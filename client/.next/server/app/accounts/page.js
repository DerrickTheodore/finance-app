(()=>{var e={};e.id=339,e.ids=[339],e.modules={332:(e,t,s)=>{Promise.resolve().then(s.bind(s,3927))},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1934:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var n=s(9513);s(8796);let r=({message:e,action:t,className:s})=>(0,n.jsxs)("div",{className:s,style:{textAlign:"center",color:"#888",padding:"2rem 1rem",fontSize:"1.1rem"},children:[(0,n.jsx)("div",{style:{fontSize:"2.5rem",marginBottom:"0.5rem"},children:"\uD83E\uDEB9"}),(0,n.jsx)("div",{children:e}),t&&(0,n.jsx)("div",{style:{marginTop:"1rem"},children:t})]})},2306:e=>{e.exports={page:"page_page__ZU32B",main:"page_main__GlU4n",ctas:"page_ctas__g5wGe",primary:"page_primary__V8M9Y",secondary:"page_secondary__lm_PT",footer:"page_footer__sHKi3",logo:"page_logo__7fc9l",skeleton:"page_skeleton___FdI7","skeleton-loading":"page_skeleton-loading__dMUvC",linkToAccounts:"page_linkToAccounts__YthRO"}},2468:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>a.a,__next_app__:()=>p,pages:()=>d,routeModule:()=>u,tree:()=>l});var n=s(6845),r=s(5130),i=s(7412),a=s.n(i),o=s(1955),c={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>o[e]);s.d(t,c);let l={children:["",{children:["accounts",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,3927)),"/Users/derricktheodore/app-library/finance-app/client/src/app/accounts/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,8361))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,3631)),"/Users/derricktheodore/app-library/finance-app/client/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,8720,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,8665,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,790,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,8361))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,d=["/Users/derricktheodore/app-library/finance-app/client/src/app/accounts/page.tsx"],p={require:s,loadChunk:()=>Promise.resolve()},u=new n.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/accounts/page",pathname:"/accounts",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},3927:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});let n=(0,s(7629).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/derricktheodore/app-library/finance-app/client/src/app/accounts/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/derricktheodore/app-library/finance-app/client/src/app/accounts/page.tsx","default")},4055:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x});var n=s(9513),r=s(8796),i=s(2306),a=s.n(i);let o=()=>(0,n.jsx)("div",{className:a().page,children:(0,n.jsxs)("main",{className:a().main,children:[(0,n.jsx)("h1",{children:"Accounts"}),(0,n.jsx)("div",{className:a().skeleton,style:{height:"120px"}}),(0,n.jsx)("div",{className:a().skeleton,style:{height:"300px"}})]})});var c=s(6788),l=s(3354),d=s(1934);let p=({accounts:e,selectedAccountIds:t,onAccountSelect:s,institutionName:r})=>e&&0!==e.length?(0,n.jsxs)("section",{className:a().section,children:[(0,n.jsxs)("h4",{children:["Accounts for ",r||"Selected Institution",":"]}),(0,n.jsx)("div",{className:a().checkboxGroup,children:e.map(e=>(0,n.jsxs)("div",{className:a().checkboxItem,children:[(0,n.jsx)("input",{type:"checkbox",id:`account-${e.id}`,value:e.id,checked:t.includes(e.id),onChange:()=>s(e.id)}),(0,n.jsx)("label",{htmlFor:`account-${e.id}`,children:e.name||e.id})]},e.id))})]}):(0,n.jsx)(d.A,{message:"No accounts found for this institution. Please link an account to get started.",className:a().section}),u=({linkedItems:e,fetchItemsError:t,selectedItem:s,isDeletingItem:r,onSelectItem:i,onDeleteItem:o})=>(0,n.jsxs)("section",{className:a().section,children:[(0,n.jsx)("h3",{children:"Your Linked Institutions:"}),t&&(0,n.jsxs)("p",{style:{color:"red"},children:["Error: ",t]}),!t&&0===e.length&&(0,n.jsx)(d.A,{message:"No bank accounts linked yet. Link an institution to get started.",className:a().section}),!t&&e.length>0&&(0,n.jsxs)("div",{className:a().itemsList,children:[(0,n.jsx)("h3",{children:"Your Linked Accounts:"}),(0,n.jsx)("ul",{children:e.map(e=>(0,n.jsxs)("li",{className:a().itemEntry,children:[(0,n.jsxs)("button",{onClick:()=>i(e.plaidItemId),className:s?.plaidItemId===e.plaidItemId?a().selectedItemButton:a().itemButton,children:[e.plaidInstitutionName||"Unknown Institution"," (",e.plaidItemId,")"]}),(0,n.jsx)("button",{onClick:()=>o(e.plaidItemId),disabled:r,className:a().deleteItemButton,children:r?"Deleting...":"Remove"})]},e.plaidItemId))})]})]});var m=s(1454);function h(){let{user:e,isLoading:t}=(0,c.A)(),{linkedItems:s}=(0,m.P)(!!e),{mutate:r,isPending:i}=(0,m.K)(),{selectedItem:o,handleSelectItem:d,selectedAccountIds:h,handleAccountSelection:x,setSelectedItem:g}=(0,l.A)(),_=async e=>{r(e,{onSuccess:()=>{o?.plaidItemId===e&&g(null)},onError:e=>{console.error("Error deleting item:",e)}})};return t?(0,n.jsx)("div",{className:a().page,children:(0,n.jsx)("main",{className:a().main,children:(0,n.jsx)("p",{children:"Loading..."})})}):e?(0,n.jsx)("div",{className:a().page,children:(0,n.jsxs)("main",{className:a().main,children:[(0,n.jsx)("h1",{children:"Accounts"}),(0,n.jsx)(u,{linkedItems:s,fetchItemsError:null,selectedItem:o,isDeletingItem:i,onSelectItem:d,onDeleteItem:_}),o&&o.accounts&&o.accounts.length>0&&(0,n.jsx)(p,{accounts:o.accounts||[],selectedAccountIds:h,onAccountSelect:x,institutionName:o.plaidInstitutionName})]})}):null}function x(){return(0,n.jsx)(r.Suspense,{fallback:(0,n.jsx)(o,{}),children:(0,n.jsx)(h,{})})}},7180:(e,t,s)=>{Promise.resolve().then(s.bind(s,4055))},8361:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});var n=s(8256);let r=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,n.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9551:e=>{"use strict";e.exports=require("url")}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),n=t.X(0,[345,804,256,113],()=>s(2468));module.exports=n})();